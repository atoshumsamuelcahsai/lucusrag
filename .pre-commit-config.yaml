fail_fast: true
repos:
  - repo: local
    hooks:
      - id: black
        name: black (local)
        entry: black
        language: system
        types: [python]
        stages: [pre-commit]
      
      - id: ruff
        name: ruff (local)
        entry: ruff check --fix
        language: system
        types: [python]
        stages: [pre-commit]
      
      - id: mypy
        name: mypy (local)
        entry: bash -lc 'mypy .'
        language: system
        types: [python]
        stages: [pre-push]

      - id: bandit
        name: bandit (local)
        entry: bandit -c pyproject.toml -q -r .
        language: system
        types: [python]
        stages: [pre-push]
        pass_filenames: false
        always_run: true
  
      - id: pip-audit
        name: pip-audit (local)
        entry: pip-audit
        language: system
        types: [python]
        stages: [pre-push]
      
      - id: pytest
        name: pytest (local)
        entry: bash -lc 'pytest -q'
        language: system
        types: [python]
        stages: [pre-push]